{"mappings":"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","sources":["src/index.js"],"sourcesContent":["window.addEventListener('load', function () {\n  const canvas = this.document.getElementById('canvas1');\n  const ctx = canvas.getContext('2d');\n  canvas.width = 1280;\n  canvas.height = 720;\n\n  ctx.fillStyle = 'white';\n  ctx.lineWidth = 3;\n  ctx.strokeStyle = 'white';\n\n  class Player {\n    constructor(game) {\n      this.game = game;\n      this.collisionX = this.game.width * 0.5;\n      this.collisionY = this.game.height * 0.5;\n      this.collisionRadius = 30;\n      this.speedX = 0;\n      this.speedY = 0;\n      this.dx = 0;\n      this.dy = 0;\n      this.speedModifier = 5;\n      this.spriteWidth = 255;\n      this.spriteHeight = 256;\n      this.width = this.spriteWidth;\n      this.height = this.spriteHeight;\n      this.spriteX;\n      this.spriteY;\n      this.frameX = 0;\n      this.frameY = 0;\n      this.image = document.getElementById('bull');\n    }\n    draw(context) {\n      context.drawImage(\n        this.image,\n        this.frameX * this.spriteWidth,\n        this.frameY * this.spriteHeight,\n        this.spriteWidth,\n        this.spriteHeight,\n        this.spriteX,\n        this.spriteY,\n        this.width,\n        this.height\n      );\n      if (this.game.debug) {\n        context.beginPath();\n        context.arc(\n          this.collisionX,\n          this.collisionY,\n          this.collisionRadius,\n          0,\n          Math.PI * 2\n        );\n        context.save();\n        context.globalAlpha = 0.5;\n        context.fill();\n        context.restore();\n        context.stroke();\n        context.beginPath();\n        context.moveTo(this.collisionX, this.collisionY);\n        context.lineTo(this.game.mouse.x, this.game.mouse.y);\n        context.stroke();\n      }\n    }\n    update() {\n      // sprite animation\n      this.dx = this.game.mouse.x - this.collisionX;\n      this.dy = this.game.mouse.y - this.collisionY;\n      const angle = Math.atan2(this.dy, this.dx);\n      if (angle < -2.74 || angle > 2.74) this.frameY = 6;\n      else if (angle < -1.96) this.frameY = 7;\n      else if (angle < -1.17) this.frameY = 0;\n      else if (angle < -0.39) this.frameY = 1;\n      else if (angle < 0.39) this.frameY = 2;\n      else if (angle < 1.17) this.frameY = 3;\n      else if (angle < 1.96) this.frameY = 4;\n      else if (angle < 2.74) this.frameY = 5;\n\n      const distance = Math.hypot(this.dy, this.dx);\n      if (distance > this.speedModifier) {\n        this.speedX = this.dx / distance || 0;\n        this.speedY = this.dy / distance || 0;\n      } else {\n        this.speedX = 0;\n        this.speedY = 0;\n      }\n      this.collisionX += this.speedX * this.speedModifier;\n      this.collisionY += this.speedY * this.speedModifier;\n      this.spriteX = this.collisionX - this.width * 0.5;\n      this.spriteY = this.collisionY - this.height * 0.5 - 100;\n      // horizontal boundaries\n      if (this.collisionX < this.collisionRadius)\n        this.collisionX = this.collisionRadius;\n      else if (this.collisionX > this.game.width - this.collisionRadius)\n        this.collisionX = this.game.width - this.collisionRadius;\n      // vertical boundaries\n      if (this.collisionY < this.game.topMargin + this.collisionRadius)\n        this.collisionY = this.game.topMargin + this.collisionRadius;\n      else if (this.collisionY > this.game.height - this.collisionRadius)\n        this.collisionY = this.game.height - this.collisionRadius;\n      // collision with obstacles\n      this.game.obstacles.forEach(obstacle => {\n        // [distance < sumOfRadii, distance, sumOfRadii, dx, dy];\n        let [collision, distance, sumOfRadii, dx, dy] =\n          this.game.checkCollision(this, obstacle);\n        if (collision) {\n          const unit_x = dx / distance;\n          const unit_y = dy / distance;\n          this.collisionX = obstacle.collisionX + (sumOfRadii + 1) * unit_x;\n          this.collisionY = obstacle.collisionY + (sumOfRadii + 1) * unit_y;\n        }\n      });\n    }\n  }\n\n  class Obstacle {\n    constructor(game) {\n      this.game = game;\n      this.collisionX = Math.random() * this.game.width;\n      this.collisionY = Math.random() * this.game.height;\n      this.collisionRadius = 40;\n      this.image = document.getElementById('obstacles');\n      this.spriteWidth = 250;\n      this.spriteHeight = 250;\n      this.width = this.spriteWidth;\n      this.height = this.spriteHeight;\n      this.spriteX = this.collisionX - this.width * 0.5;\n      this.spriteY = this.collisionY - this.height * 0.5 - 70;\n      this.frameX = Math.floor(Math.random() * 4);\n      this.frameY = Math.floor(Math.random() * 3);\n    }\n    draw(context) {\n      context.drawImage(\n        this.image,\n        this.frameX * this.spriteWidth,\n        this.frameY * this.spriteHeight,\n        this.spriteWidth,\n        this.spriteHeight,\n        this.spriteX,\n        this.spriteY,\n        this.width,\n        this.height\n      );\n      if (this.game.debug) {\n        context.beginPath();\n        context.arc(\n          this.collisionX,\n          this.collisionY,\n          this.collisionRadius,\n          0,\n          Math.PI * 2\n        );\n        context.save();\n        context.globalAlpha = 0.5;\n        context.fill();\n        context.restore();\n        context.stroke();\n      }\n    }\n    update() {}\n  }\n\n  class Egg {\n    constructor(game) {\n      this.game = game;\n      this.collisionRadius = 40;\n      this.margin = this.collisionRadius * 2;\n      this.collisionX =\n        this.margin + Math.random() * (this.game.width - this.margin * 2);\n      this.collisionY =\n        this.game.topMargin +\n        Math.random() * (this.game.height - this.game.topMargin - this.margin);\n      this.collisionRadius = 40;\n      this.image = document.getElementById('egg');\n      this.spriteWidth = 110;\n      this.spriteHeight = 135;\n      this.width = this.spriteWidth;\n      this.height = this.spriteHeight;\n      this.spriteX;\n      this.spriteY;\n    }\n    draw(context) {\n      context.drawImage(this.image, this.spriteX, this.spriteY);\n      if (this.game.debug) {\n        context.beginPath();\n        context.arc(\n          this.collisionX,\n          this.collisionY,\n          this.collisionRadius,\n          0,\n          Math.PI * 2\n        );\n        context.save();\n        context.globalAlpha = 0.5;\n        context.fill();\n        context.restore();\n        context.stroke();\n      }\n    }\n    update() {\n      this.spriteX = this.collisionX - this.width * 0.5;\n      this.spriteY = this.collisionY - this.height * 0.5 - 30;\n      let collisionObjects = [this.game.player, ...this.game.obstacles];\n      collisionObjects.forEach(object => {\n        let [collision, distance, sumOfRadii, dx, dy] =\n          this.game.checkCollision(this, object);\n        if (collision) {\n          const unit_x = dx / distance;\n          const unit_y = dy / distance;\n          this.collisionX = object.collisionX + (sumOfRadii + 1) * unit_x;\n          this.collisionY = object.collisionY + (sumOfRadii + 1) * unit_y;\n        }\n      });\n    }\n  }\n\n  class Game {\n    constructor(canvas) {\n      this.canvas = canvas;\n      this.width = this.canvas.width;\n      this.height = this.canvas.height;\n      this.topMargin = 260;\n      this.debug = true;\n      this.player = new Player(this);\n      this.fps = 70;\n      this.timer = 0;\n      this.interval = 1000 / this.fps;\n      this.eggTimer = 0;\n      this.eggInterval = 1000;\n      this.numberOfObstacles = 8;\n      this.maxEggs = 10;\n      this.obstacles = [];\n      this.eggs = [];\n      this.gameObjects = [];\n      this.mouse = {\n        x: this.width * 0.5,\n        y: this.height * 0.5,\n        pressed: false,\n      };\n\n      canvas.addEventListener('mousedown', e => {\n        this.mouse.x = e.offsetX;\n        this.mouse.y = e.offsetY;\n        this.mouse.pressed = true;\n      });\n      canvas.addEventListener('mouseup', e => {\n        this.mouse.x = e.offsetX;\n        this.mouse.y = e.offsetY;\n        this.mouse.pressed = false;\n      });\n      canvas.addEventListener('mousemove', e => {\n        if (this.mouse.pressed) {\n          this.mouse.x = e.offsetX;\n          this.mouse.y = e.offsetY;\n        }\n      });\n      window.addEventListener('keydown', e => {\n        if (e.key == 'd') this.debug = !this.debug;\n      });\n    }\n\n    render(context, deltaTime) {\n      if (this.timer > this.interval) {\n        context.clearRect(0, 0, this.width, this.height);\n        this.gameObjects = [...this.eggs, ...this.obstacles, this.player];\n        this.gameObjects.sort((a, b) => {\n          return a.collisionY - b.collisionY;\n        });\n        this.gameObjects.forEach(object => {\n          object.draw(context);\n          object.update();\n        });\n        this.timer = 0;\n      }\n      this.timer += deltaTime;\n      if (this.eggTimer > this.eggInterval && this.eggs.length < this.maxEggs) {\n        this.addEgg();\n        this.eggTimer = 0;\n      } else {\n        this.eggTimer += deltaTime;\n      }\n    }\n\n    checkCollision(a, b) {\n      const dx = a.collisionX - b.collisionX;\n      const dy = a.collisionY - b.collisionY;\n      const distance = Math.hypot(dy, dx);\n      const sumOfRadii = a.collisionRadius + b.collisionRadius;\n      return [distance < sumOfRadii, distance, sumOfRadii, dx, dy];\n    }\n\n    addEgg() {\n      this.eggs.push(new Egg(this));\n    }\n\n    init() {\n      let attempts = 0;\n      while (this.obstacles.length < this.numberOfObstacles && attempts < 500) {\n        let testObstacle = new Obstacle(this);\n        let overlap = false;\n        this.obstacles.forEach(obstacle => {\n          const dx = testObstacle.collisionX - obstacle.collisionX;\n          const dy = testObstacle.collisionY - obstacle.collisionY;\n          const distance = Math.hypot(dy, dx);\n          const distanceBuffer = 150;\n          const sumOfRadii =\n            testObstacle.collisionRadius +\n            obstacle.collisionRadius +\n            distanceBuffer;\n          if (distance < sumOfRadii) {\n            overlap = true;\n          }\n        });\n        const margin = testObstacle.collisionRadius * 3;\n        if (\n          !overlap &&\n          testObstacle.spriteX > 0 &&\n          testObstacle.spriteX < this.width - testObstacle.width &&\n          testObstacle.collisionY > this.topMargin + margin &&\n          testObstacle.collisionY < this.height - margin\n        ) {\n          this.obstacles.push(testObstacle);\n        }\n        attempts++;\n      }\n    }\n  }\n\n  const game = new Game(canvas);\n  game.init();\n  console.log(game);\n\n  let lastTime = 0;\n  function animate(timeStamp) {\n    const deltaTime = timeStamp - lastTime;\n    lastTime = timeStamp;\n    game.render(ctx, deltaTime);\n    requestAnimationFrame(animate);\n  }\n  animate(0);\n});\n"],"names":["window","addEventListener","canvas","this","document","getElementById","ctx","getContext","width","height","fillStyle","lineWidth","strokeStyle","Player","draw","context","drawImage","image","frameX","spriteWidth","frameY","spriteHeight","spriteX","spriteY","game","debug","beginPath","arc","collisionX","collisionY","collisionRadius","Math","PI","save","globalAlpha","fill","restore","stroke","moveTo","lineTo","mouse","x","y","update","dx","dy","angle","atan2","distance","hypot","speedModifier","speedX","speedY","topMargin","obstacles","forEach","obstacle","collision","sumOfRadii","checkCollision","unit_x","unit_y","constructor","Obstacle","random","floor","Egg","player","object","margin","render","deltaTime","timer","interval","clearRect","gameObjects","eggs","sort","a","b","eggTimer","eggInterval","length","maxEggs","addEgg","push","init","attempts","numberOfObstacles","testObstacle","overlap","fps","pressed","e","offsetX","offsetY","key","console","log","lastTime","animate","timeStamp","requestAnimationFrame"],"version":3,"file":"index.f5635c50.js.map"}